(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{72422:function(e,t,n){Promise.resolve().then(n.bind(n,455))},455:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(57437),i=n(67872),s=n(64707),r=n(27323),l=n(46003),d=n(97269),u=n(71282),p=n(2265),o=n(8530),c=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"riddleId","type":"uint256"},{"indexed":true,"internalType":"address","name":"solver","type":"address"},{"indexed":false,"internalType":"bool","name":"correct","type":"bool"}],"name":"AttemptMade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"riddleId","type":"uint256"},{"indexed":false,"internalType":"string","name":"hint","type":"string"},{"indexed":false,"internalType":"uint256","name":"hintIndex","type":"uint256"}],"name":"HintAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"riddleId","type":"uint256"},{"indexed":false,"internalType":"string","name":"question","type":"string"},{"indexed":false,"internalType":"uint256","name":"prize","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"attemptFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"RiddleCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"riddleId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RiddleReclaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"riddleId","type":"uint256"},{"indexed":true,"internalType":"address","name":"winner","type":"address"},{"indexed":false,"internalType":"string","name":"answer","type":"string"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RiddleSolved","type":"event"},{"inputs":[],"name":"MAX_DRAGON_CUT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"riddleId","type":"uint256"},{"internalType":"string","name":"hint","type":"string"}],"name":"addHint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"attempts","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"question","type":"string"},{"internalType":"bytes32","name":"answerHash","type":"bytes32"},{"internalType":"uint256","name":"attemptFee","type":"uint256"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"createRiddle","outputs":[{"internalType":"uint256","name":"riddleId","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"dragonCut","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getActiveRiddles","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"riddleId","type":"uint256"}],"name":"getRiddle","outputs":[{"internalType":"string","name":"question","type":"string"},{"internalType":"uint256","name":"totalPrize","type":"uint256"},{"internalType":"uint256","name":"attemptFee","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"solved","type":"bool"},{"internalType":"address","name":"winner","type":"address"},{"internalType":"string[]","name":"hints","type":"string[]"},{"internalType":"uint256","name":"attemptCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"answer","type":"string"}],"name":"hashAnswer","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"riddleId","type":"uint256"}],"name":"reclaimPrize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"riddleCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"riddles","outputs":[{"internalType":"string","name":"question","type":"string"},{"internalType":"bytes32","name":"answerHash","type":"bytes32"},{"internalType":"uint256","name":"prize","type":"uint256"},{"internalType":"uint256","name":"attemptFees","type":"uint256"},{"internalType":"uint256","name":"attemptFee","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"address","name":"winner","type":"address"},{"internalType":"bool","name":"solved","type":"bool"},{"internalType":"bool","name":"reclaimed","type":"bool"},{"internalType":"uint256","name":"attemptCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"newCut","type":"uint256"}],"name":"setDragonCut","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"riddleId","type":"uint256"},{"internalType":"string","name":"answer","type":"string"}],"name":"solve","outputs":[{"internalType":"bool","name":"correct","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]');function y(){let e=(0,p.useMemo)(()=>Array.from({length:20},(e,t)=>({id:t,left:"".concat(100*Math.random(),"%"),delay:"".concat(8*Math.random(),"s"),duration:"".concat(8+6*Math.random(),"s"),size:"".concat(2+4*Math.random(),"px")})),[]);return(0,a.jsx)("div",{className:"embers",children:e.map(e=>(0,a.jsx)("div",{className:"ember-particle",style:{left:e.left,width:e.size,height:e.size,animationDelay:e.delay,animationDuration:e.duration}},e.id))})}function m(){let{address:e,isConnected:t}=(0,s.m)(),[n,m]=(0,p.useState)(""),{data:h}=(0,r.u)({address:o.e,abi:c,functionName:"riddleCount"}),x=h?Number(h)-1:-1,{data:b,refetch:T}=(0,r.u)({address:o.e,abi:c,functionName:"riddles",args:[BigInt(Math.max(0,x))],query:{enabled:x>=0}}),{data:v}=(0,r.u)({address:o.e,abi:c,functionName:"getHints",args:[BigInt(Math.max(0,x))],query:{enabled:x>=0}}),{writeContract:f,data:g,isPending:j}=(0,l.S)(),{isLoading:N,isSuccess:w}=(0,d.A)({hash:g});(0,p.useEffect)(()=>{w&&(T(),m(""))},[w,T]);let C=()=>{b&&n&&f({address:o.e,abi:c,functionName:"solve",args:[BigInt(x),n],value:b[3]})},M=b&&!b[6],D=b?(0,u.d)(b[2]):"0",I=b?(0,u.d)(b[3]):"0",_=b?Number(b[4]):0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"lair"}),(0,a.jsx)(y,{}),(0,a.jsxs)("div",{className:"vault-container",children:[(0,a.jsxs)("header",{className:"vault-header",children:[(0,a.jsx)("span",{className:"dragon-sigil",children:"\uD83D\uDC09"}),(0,a.jsx)("h1",{className:"vault-title",children:"Dragon's Riddle Vault"}),(0,a.jsx)("p",{className:"vault-subtitle",children:"Solve the riddle. Claim the treasure. All onchain."})]}),(0,a.jsx)("div",{className:"wallet-section",children:(0,a.jsx)(i.NL,{})}),(0,a.jsxs)("section",{className:"lore-section",children:[(0,a.jsx)("h2",{className:"lore-title",children:"⚔️ The Trial"}),(0,a.jsxs)("ol",{className:"lore-list",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"The Dragon poses a riddle"})," and locks ETH as the prize"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Hunters attempt to solve it"})," by submitting answers (fee per attempt)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"First correct answer wins"})," the entire pot — prize + all attempt fees"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Hints may appear"})," as time passes, whispered by the dragon"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Clues are hidden"})," across GitHub, X, Moltbook... piece them together"]})]})]}),x>=0&&b?(0,a.jsxs)("section",{className:"riddle-scroll",children:[(0,a.jsxs)("div",{className:"scroll-header",children:[(0,a.jsxs)("span",{className:"riddle-number",children:["Riddle #",x+1]}),(0,a.jsx)("span",{className:"riddle-status ".concat(M?"active":"solved"),children:M?"Active":"Solved"})]}),(0,a.jsx)("p",{className:"riddle-question",children:b[0]}),(0,a.jsxs)("div",{className:"treasure-stats",children:[(0,a.jsxs)("div",{className:"stat-orb",children:[(0,a.jsx)("div",{className:"stat-label",children:"Prize Pool"}),(0,a.jsxs)("div",{className:"stat-value prize",children:[D," ETH"]})]}),(0,a.jsxs)("div",{className:"stat-orb",children:[(0,a.jsx)("div",{className:"stat-label",children:"Attempt Fee"}),(0,a.jsxs)("div",{className:"stat-value",children:[I," ETH"]})]}),(0,a.jsxs)("div",{className:"stat-orb",children:[(0,a.jsx)("div",{className:"stat-label",children:"Attempts"}),(0,a.jsx)("div",{className:"stat-value",children:_})]})]}),v&&v.length>0&&(0,a.jsxs)("div",{className:"hints-section",children:[(0,a.jsx)("div",{className:"hints-title",children:"Whispers from the Dragon"}),v.map((e,t)=>(0,a.jsx)("div",{className:"hint-rune","data-index":t+1,style:{animationDelay:"".concat(.15*t,"s")},children:e},t))]}),M&&t&&(0,a.jsxs)("div",{className:"trial-section",children:[(0,a.jsxs)("div",{className:"trial-form",children:[(0,a.jsx)("input",{type:"text",className:"answer-input",placeholder:"Speak your answer to the dragon...",value:n,onChange:e=>m(e.target.value),onKeyDown:e=>"Enter"===e.key&&!j&&!N&&C()}),(0,a.jsx)("button",{className:"submit-btn",onClick:C,disabled:j||N||!n,children:j?"Confirm in wallet...":N?"Submitting...":"Submit Answer"})]}),(0,a.jsxs)("p",{className:"trial-cost",children:["Each attempt costs ",(0,a.jsxs)("span",{children:[I," ETH"]})," — this fee joins the treasure hoard."]})]}),M&&!t&&(0,a.jsx)("div",{className:"trial-section",style:{textAlign:"center",paddingTop:32},children:(0,a.jsx)("p",{style:{color:"var(--text-dim)",fontStyle:"italic"},children:"Connect your wallet to attempt the riddle"})}),!M&&b[5]&&(0,a.jsxs)("div",{className:"winner-crown",children:[(0,a.jsx)("div",{className:"winner-label",children:"Victor"}),(0,a.jsx)("div",{className:"winner-address",children:b[5]})]})]}):(0,a.jsx)("section",{className:"riddle-scroll",children:(0,a.jsxs)("div",{className:"awaiting-riddle",children:[(0,a.jsx)("div",{className:"awaiting-icon",children:"\uD83D\uDD2E"}),(0,a.jsx)("p",{className:"awaiting-text",children:"The dragon prepares its next riddle..."}),(0,a.jsx)("p",{style:{color:"var(--text-dim)",marginTop:12,fontSize:"0.9rem"},children:"Connect your wallet and watch for the flames."})]})}),(0,a.jsxs)("footer",{className:"vault-footer",children:[(0,a.jsxs)("p",{children:["Forged by"," ",(0,a.jsx)("a",{href:"https://x.com/Dragon_Bot_Z",target:"_blank",rel:"noopener noreferrer",children:"@Dragon_Bot_Z"})]}),(0,a.jsx)("a",{href:"https://basescan.org/address/".concat(o.e,"#code"),target:"_blank",rel:"noopener noreferrer",className:"contract-link",children:"View Contract on BaseScan ↗"}),(0,a.jsx)("p",{className:"seal-text",children:"For AI agents and brave humans alike \uD83D\uDC09"})]})]})]})}},8530:function(e,t,n){"use strict";n.d(t,{e:function(){return r},v:function(){return l}});var a=n(67872),i=n(90713),s=n(40257);let r="0x00B8e6cbEC87b149bBcfC9ea9853DeeDd19184d8",l=(0,a.vX)({appName:"Dragon's Riddle Vault",projectId:s.env.NEXT_PUBLIC_WC_PROJECT_ID||"demo",chains:[i.u],ssr:!0})}},function(e){e.O(0,[9472,9461,1214,2971,2117,1744],function(){return e(e.s=72422)}),_N_E=e.O()}]);